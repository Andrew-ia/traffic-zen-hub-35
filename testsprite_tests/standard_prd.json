{
  "meta": {
    "project": "Traffic Zen Hub 35",
    "date": "2025-11-04",
    "prepared_by": "Software Development Manager"
  },
  "product_overview": "Traffic Zen Hub 35 is an intelligent paid traffic operation platform that consolidates campaign data and metrics from major ad integrations (Meta Ads, Google Ads, GA4) into a unified dashboard. It orchestrates data synchronization, calculates standardized KPIs, offers AI-assisted insights and automation workflows, and provides operational tools for daily performance management and optimization.",
  "core_goals": [
    "Centralize campaign, creatives, spend, conversions, and revenue data into a single platform.",
    "Standardize KPIs with useful diagnostic, planning, and optimization views.",
    "Enable report generation and AI-driven insights and automation workflows.",
    "Reduce manual work via automated syncing scripts and cron jobs for data integrity and freshness."
  ],
  "key_features": [
    "Unified dashboard presenting key KPIs and alerts for quick traffic performance overview.",
    "Campaign management modules including listing, detailed views, filters, and campaign libraries.",
    "Creative management with multiple listing views and grouping options for better analysis.",
    "Comprehensive reporting with filterable views, export capability, and AI-generated insights.",
    "Integrations management with setup, status monitoring, and troubleshooting tools for Meta Ads, Google Ads, and GA4.",
    "Budget planning and overview dashboards for spend tracking over selected periods.",
    "Operational calendar for events and milestones related to campaigns and budget.",
    "Tracking and UTM utilities for campaign attribution and best practices.",
    "Dedicated pages for integration-specific analytics (Meta Ads, Google Ads, GA4).",
    "A centralized Action Center consolidating tasks, pending actions, and recommendations."
  ],
  "user_flow_summary": [
    "User logs in and lands on the consolidated KPIs dashboard showing campaign and spend metrics with alerts.",
    "User navigates to the Campaigns section to browse, filter, and analyze individual campaigns and their details.",
    "User accesses the Creatives module to view grouped or variant listings of creatives, analyzing performance and engagement metrics.",
    "The user generates reports by selecting time ranges and campaigns; AI-based agents analyze data and provide insights, with options to export results.",
    "User configures and monitors the status of ad integrations, runs troubleshooting scripts when needed.",
    "Automated cron jobs and scripts synchronize data from Meta and Google Ads into the database, and ETL processes run for KPI calculations and view updates.",
    "User reviews budgets and calendar events to align spending and campaign schedules.",
    "Action Center surfaces reminders and recommended actions based on data anomalies or pending tasks."
  ],
  "validation_criteria": [
    "KPIs are accurately calculated and correctly displayed for main campaign and creative segments.",
    "Synchronization scripts and cron jobs execute successfully without unhandled errors or data integrity issues.",
    "Reports can be generated, exported, and AI insights are relevant and contextually useful.",
    "All integrations are configurable, monitored, and documented clearly with troubleshooting support.",
    "UI components provide consistent and responsive user experience with feedback mechanisms like toasts and loading states.",
    "Security controls are enforced with proper secret management, encryption, and audit logging.",
    "System performance meets loading time and responsiveness standards, with reliable caching where applicable."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React",
      "Vite",
      "Express",
      "PostgreSQL (Supabase)",
      "TailwindCSS",
      "shadcn/ui",
      "Radix UI",
      "Node.js",
      "SWC",
      "Shell",
      "SQL"
    ],
    "features": [
      {
        "name": "Frontend Routing & Layout",
        "description": "Single-page React app with routes for dashboards, insights, campaigns, creatives, reports, integrations, and tools. Provides main layout, tooltips, toasts, and tracking wrappers.",
        "files": [
          "src/App.tsx",
          "src/main.tsx",
          "src/index.css",
          "src/App.css",
          "src/components/layout",
          "src/pages/Dashboard.tsx",
          "src/pages/AIInsights.tsx",
          "src/pages/AIAgents.tsx",
          "src/pages/ActionCenter.tsx",
          "src/pages/TrafficAnalysis.tsx",
          "src/pages/CampaignLibrary.tsx",
          "src/pages/Campaigns.tsx",
          "src/pages/CampaignDetails.tsx",
          "src/pages/AdDetails.tsx",
          "src/pages/Creatives.tsx",
          "src/pages/CreativesV2.tsx",
          "src/pages/CreativesV3.tsx",
          "src/pages/CreativesGrouped.tsx",
          "src/pages/Reports.tsx",
          "src/pages/Integrations.tsx",
          "src/pages/GoogleAds.tsx",
          "src/pages/MetaAds.tsx",
          "src/pages/GA4.tsx",
          "src/pages/UTMs.tsx",
          "src/pages/Leads.tsx",
          "src/pages/Automations.tsx",
          "src/pages/Experiments.tsx",
          "src/pages/Tracking.tsx",
          "src/pages/VirtualTryOn.tsx",
          "src/pages/NotFound.tsx"
        ]
      },
      {
        "name": "Custom Hooks",
        "description": "Reusable hooks for data fetching, analytics, campaigns, KPIs, budgets, audiences, and UI responsiveness.",
        "files": [
          "src/hooks/useAIAgents.ts",
          "src/hooks/useAIInsights.ts",
          "src/hooks/useActionItems.ts",
          "src/hooks/useAdBreakdowns.ts",
          "src/hooks/useAdDetails.ts",
          "src/hooks/useAdMetrics.ts",
          "src/hooks/useAudiences.ts",
          "src/hooks/useBudgetOverview.ts",
          "src/hooks/useBudgetPlans.ts",
          "src/hooks/useCalendarEvents.ts",
          "src/hooks/useCampaigns.ts",
          "src/hooks/useMediaCache.ts",
          "src/hooks/useReportsData.ts",
          "src/hooks/use-mobile.tsx",
          "src/hooks/use-responsive.tsx",
          "src/hooks/use-toast.ts"
        ]
      },
      {
        "name": "UI Components & Theme",
        "description": "Component library and theme setup using shadcn/ui, Radix UI, and TailwindCSS.",
        "files": [
          "src/components/ui",
          "src/components/theme",
          "tailwind.config.ts",
          "components.json"
        ]
      },
      {
        "name": "Client Libraries",
        "description": "Shared utilities for KPI calculations, metric breakdowns, GTM tracking, Supabase client initialization, and general helpers.",
        "files": [
          "src/lib/kpiCalculations.ts",
          "src/lib/breakdownMetrics.ts",
          "src/lib/conversionMetrics.ts",
          "src/lib/gtm.ts",
          "src/lib/supabaseClient.ts",
          "src/lib/utils.ts",
          "src/data/navigation.ts",
          "src/vite-env.d.ts"
        ]
      },
      {
        "name": "Backend API Server",
        "description": "Express server exposing endpoints for integrations, analytics metrics, campaigns library, creatives, AI agents/insights, and health checks.",
        "files": [
          "server/index.ts",
          "server/api/integrations/*.ts",
          "server/api/analytics/*.ts",
          "server/api/campaigns/*.ts",
          "server/api/creatives/*.ts",
          "server/api/ai/*.ts",
          "server/config/database.ts",
          "server/services/encryption.ts",
          "server/services/genai.ts",
          "server/services/metaBilling.ts",
          "server/types/index.ts",
          "server/workers"
        ]
      },
      {
        "name": "Data & Sync Scripts",
        "description": "Node and shell scripts to check env, audit data quality, sync Meta/Google Ads, run SQL, migrations, and scheduled cron jobs.",
        "files": [
          "scripts/check-env.mjs",
          "scripts/check-data-sync.js",
          "scripts/check-schema.js",
          "scripts/check-metrics-data.mjs",
          "scripts/audit-data-quality.js",
          "scripts/audit-meta-data.js",
          "scripts/meta/sync-campaigns.js",
          "scripts/google-ads",
          "scripts/run-sql.js",
          "scripts/execute-sql-file.js",
          "scripts/run-migration.js",
          "scripts/test-kpi-view.mjs",
          "scripts/cron-daily-sync.sh",
          "scripts/cron-hourly-sync.sh",
          "scripts/cron-weekly-sync.sh",
          "scripts/setup-vault-secrets.js",
          "scripts/get-workspace-id.js",
          "scripts/list-meta-accounts.js"
        ]
      },
      {
        "name": "Database Schema & Supabase SQL",
        "description": "PostgreSQL schema, views, functions, and checks powering multi-tenant workspaces, campaigns, metrics, and automation.",
        "files": [
          "db/migrations/0001_initial.sql",
          "db/seeds/0001_sample_data.sql",
          "supabase/sql/01_schema.sql",
          "supabase/sql/02_views.sql",
          "supabase/sql/04_functions.sql",
          "supabase/sql/05_cron.sql",
          "supabase/sql/99_checks.sql",
          "supabase/vault-functions.sql",
          "supabase/setup-vault.sql"
        ]
      },
      {
        "name": "Supabase Edge Functions",
        "description": "Edge functions for Meta sync and related tasks.",
        "files": [
          "supabase/functions/meta-sync"
        ]
      },
      {
        "name": "Build & Dev Configuration",
        "description": "Vite dev server and proxy, TypeScript configs, ESLint, and package scripts for combined frontend/backend development.",
        "files": [
          "vite.config.ts",
          "tsconfig.json",
          "tsconfig.app.json",
          "tsconfig.node.json",
          "eslint.config.js",
          "package.json",
          "index.html"
        ]
      },
      {
        "name": "Documentation",
        "description": "Guides for local setup, KPIs, integrations, PRD, and implementation references.",
        "files": [
          "README.md",
          "docs/AMBIENTE-LOCAL.md",
          "docs/AUTOMACAO-SYNC.md",
          "docs/CAMPAIGN_LIBRARY.md",
          "docs/INSTAGRAM_GRAPH_API.md",
          "docs/PLANO_CORRECAO_KPIS.md",
          "docs/PRD.md",
          "docs/database/README.md",
          "docs/integrations/meta.md",
          "KPI-QUICKSTART.md",
          "KPI_ANALYSIS_INDEX.md",
          "KPI_METRICS_ANALYSIS.md",
          "KPI_QUICK_REFERENCE.md",
          "INTEGRATION_FIXED.md",
          "PROXIMO-PASSO.md",
          "RELATORIO-FINAL-KPI.md",
          "RESUMO-IMPLEMENTACOES.md",
          "SETUP-KPI-VIEW.md",
          "STATUS-EXECUCAO.md",
          "SYNC-INCREMENTAL-SUMMARY.md"
        ]
      }
    ]
  }
}
